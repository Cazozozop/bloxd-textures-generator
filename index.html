<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Système Solaire avec Rayons Lumineux</title>
    <style>
        body { margin: 0; overflow: hidden; }
        canvas { display: block; }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let scene, camera, renderer, sun, planets = [], stars = [], meteorites = [];
        let clock = new THREE.Clock();
        let godRays = [];

        function init() {
            // Créer la scène
            scene = new THREE.Scene();

            // Créer la caméra
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 50;

            // Créer le renderer
            renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // Créer la lumière directionnelle pour le soleil avec rayons lumineux
            const light = new THREE.PointLight(0xffffff, 2, 100);
            light.position.set(0, 0, 0);
            scene.add(light);

            // Créer des étoiles de fond
            createStars(500);

            // Créer le soleil avec des effets volumétriques
            createSun();

            // Créer des planètes
            createPlanets(5);

            // Créer des météorites
            createMeteors(5);

            // Lancer l'animation
            animate();
        }

        // Fonction pour créer des étoiles de fond
        function createStars(count) {
            const geometry = new THREE.SphereGeometry(1, 2, 2);
            const material = new THREE.MeshBasicMaterial({ color: 0xffffff });
            for (let i = 0; i < count; i++) {
                const star = new THREE.Mesh(geometry, material);
                star.position.x = Math.random() * 200 - 100;
                star.position.y = Math.random() * 200 - 100;
                star.position.z = Math.random() * 200 - 100;
                stars.push(star);
                scene.add(star);
            }
        }

        // Fonction pour créer le soleil avec des effets de rayons lumineux
        function createSun() {
            // Création du soleil avec un matériau émissif
            const geometry = new THREE.SphereGeometry(5, 32, 32);
            const material = new THREE.MeshStandardMaterial({
                color: 0xffff00,
                emissive: 0xffff00,
                emissiveIntensity: 2
            });
            sun = new THREE.Mesh(geometry, material);
            sun.position.set(0, 0, 0);
            scene.add(sun);

            // Création des rayons lumineux (effet God Ray)
            createGodRays();
        }

        // Fonction pour créer les rayons lumineux
        function createGodRays() {
            const rayCount = 20;  // Nombre de rayons lumineux
            for (let i = 0; i < rayCount; i++) {
                const geometry = new THREE.CylinderGeometry(0.05, 0.05, 100, 10);
                const material = new THREE.MeshBasicMaterial({
                    color: 0xffff00,
                    transparent: true,
                    opacity: 0.05,
                    blending: THREE.AdditiveBlending
                });

                // Création des rayons et positionnement
                const ray = new THREE.Mesh(geometry, material);
                ray.position.set(0, 0, 0);
                ray.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);

                // Positionner les rayons dans la scène avec un léger mouvement pour l'effet
                ray.position.x = Math.random() * 50 - 25;
                ray.position.y = Math.random() * 50 - 25;
                ray.position.z = Math.random() * 50 - 25;

                godRays.push(ray);
                scene.add(ray);
            }
        }

        // Fonction pour créer des planètes aléatoires
        function createPlanets(count) {
            for (let i = 0; i < count; i++) {
                const size = Math.random() * 5 + 2;
                const geometry = new THREE.SphereGeometry(size, 32, 32);
                const material = new THREE.MeshStandardMaterial({
                    color: Math.random() * 0xffffff,
                    roughness: 0.5,
                    metalness: 0.5
                });
                const planet = new THREE.Mesh(geometry, material);
                planet.position.set(Math.random() * 50 - 25, Math.random() * 50 - 25, Math.random() * 50 - 25);
                planet.rotation.y = Math.random() * Math.PI;
                planet.castShadow = true;
                planet.receiveShadow = true;
                planets.push(planet);
                scene.add(planet);
            }
        }

        // Fonction pour créer des météorites
        function createMeteors(count) {
            const geometry = new THREE.SphereGeometry(1, 16, 16);
            const material = new THREE.MeshBasicMaterial({ color: 0xff0000 });
            for (let i = 0; i < count; i++) {
                const meteor = new THREE.Mesh(geometry, material);
                meteor.position.set(Math.random() * 200 - 100, Math.random() * 200 - 100, Math.random() * 200 - 100);
                meteorites.push(meteor);
                scene.add(meteor);
            }
        }

        // Fonction d'animation
        function animate() {
            requestAnimationFrame(animate);

            // Animer le soleil et les planètes
            sun.rotation.y += 0.01;
            planets.forEach(planet => {
                planet.rotation.y += 0.01;
            });

            // Animer les météorites
            meteorites.forEach(meteor => {
                meteor.position.x += Math.random() * 0.1 - 0.05;
                meteor.position.y += Math.random() * 0.1 - 0.05;
                meteor.position.z += Math.random() * 0.1 - 0.05;
            });

            // Rotation des étoiles
            stars.forEach(star => {
                star.rotation.x += 0.0005;
                star.rotation.y += 0.0005;
            });

            // Rotation des rayons lumineux
            godRays.forEach(ray => {
                ray.rotation.z += 0.01;
            });

            // Mise à jour de la caméra
            camera.position.x += Math.sin(clock.getElapsedTime() * 0.1) * 0.05;
            camera.position.y += Math.cos(clock.getElapsedTime() * 0.1) * 0.05;

            // Rendu de la scène
            renderer.render(scene, camera);
        }

        // Initialisation de la scène
        init();
    </script>
</body>
</html>
